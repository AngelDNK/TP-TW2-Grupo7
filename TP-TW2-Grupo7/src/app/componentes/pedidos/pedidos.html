<div class="container mx-auto p-4 md:p-8 text-white">
  <h1 class="text-3xl font-bold mb-8">Mis Pedidos</h1>

  <div *ngIf="pedidos$ | async as pedidos">
    <div *ngIf="pedidos.length === 0" class="text-gray-400">No has realizado compras aÃºn.</div>

    <div class="space-y-6">
      <div *ngFor="let pedido of pedidos" class="bg-slate-800 rounded-lg shadow p-6 border border-slate-700">

        <div class="flex justify-between items-center border-b border-slate-600 pb-4 mb-4">
          <div>
            <span class="text-gray-400 text-sm">Fecha de compra</span>
            <div class="font-bold text-lg">{{ pedido.fecha | date:'medium' }}</div>
          </div>
          <div class="text-right">
            <span class="text-gray-400 text-sm">Total</span>
            <div class="font-bold text-2xl text-green-400">{{ pedido.total | currency:'$' }}</div>
          </div>
        </div>

        <div class="grid gap-4">
          <div *ngFor="let item of pedido.PedidoItems" class="flex items-center gap-4 bg-slate-900 p-3 rounded">
            <img [src]="'https://placehold.co/60x60/333/ccc?text=' + item.Producto.nombre.substring(0,3)"
                 class="w-12 h-12 rounded object-cover">

            <div class="flex-grow">
              <h3 class="font-semibold">{{ item.Producto.nombre }}</h3>
              <p class="text-sm text-gray-400">{{ item.Producto.clasificacion }}</p>
            </div>

            <div class="text-right">
              <p class="font-bold">x{{ item.cantidad }}</p>
              <p class="text-xs text-gray-400">{{ item.precio_unitario | currency:'$' }} c/u</p>
            </div>
          </div>
        </div>

        <div class="mt-4 pt-4 border-t border-slate-700 text-sm text-gray-400 flex gap-4">
          <p>ðŸ’³ Pago: <span class="text-white capitalize">{{ pedido.metodo_pago }}</span></p>
          <p>ðŸ“¦ Entrega: <span class="text-white capitalize">{{ pedido.tipo_entrega }}</span></p>
        </div>

      </div>
    </div>
  </div>
</div>
